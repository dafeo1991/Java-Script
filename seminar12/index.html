<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <div class="content">
        Lorem, ipsum dolor sit amet consectetur adipisicing elit. Pariatur excepturi soluta vero cumque tempora aliquid
        natus veniam illo quas doloremque iusto, distinctio voluptate aliquam fuga quisquam quibusdam dolorem cum
        impedit modi sint dolore repudiandae? A hic earum ut deleniti sunt, excepturi maxime quod ullam ad, ab ducimus
        in sequi neque quam sit nesciunt voluptatum, repudiandae quo. Perferendis numquam veritatis ullam consectetur
        laborum harum debitis nostrum obcaecati reprehenderit minima, porro voluptatibus temporibus officia eligendi,
        laboriosam nisi facilis omnis nemo est a quidem aut voluptate earum? Accusamus reiciendis vitae distinctio,
        animi placeat dolorem doloribus dolore voluptatibus voluptatem dicta illo ducimus eveniet, quam, fuga incidunt
        error at similique. Quasi consequuntur corporis ullam unde reiciendis nostrum? Labore atque dolorum error. Vero
        sequi, omnis earum sit ratione repellat modi possimus in officiis vel quam, tempora minus autem atque nobis
        blanditiis? Sapiente dolor magnam animi earum repudiandae quas delectus ad velit molestias optio, accusamus
        consectetur, iste quaerat doloribus dolore ea, ab modi eaque vitae sed totam voluptas! Voluptatum consequuntur
        ratione, saepe a officiis voluptas inventore dolorum quod autem beatae odio deleniti alias sint facere placeat
        reiciendis dolorem iusto vel animi consequatur sed distinctio. At nemo, corporis odit veritatis modi quis
        eveniet beatae mollitia eum nobis consequatur nostrum labore dignissimos distinctio ad quisquam! Praesentium
        adipisci quam eius sunt repudiandae, temporibus earum, accusantium harum nesciunt delectus ex. Necessitatibus
        mollitia amet neque libero tempore animi odit laborum in quia quaerat, reprehenderit expedita. Quo doloremque
        perferendis temporibus, iste sapiente alias, a architecto ad amet aperiam animi. Velit perferendis quidem ipsum!
        Unde adipisci tempora hic, laborum optio recusandae aspernatur eaque necessitatibus animi odit. Dolores, cum.
        Eveniet nam voluptas minima odio sequi molestiae, sed tempora perspiciatis nisi alias enim necessitatibus
        quidem! Unde accusamus odit dignissimos consectetur enim adipisci eaque dolorum quis? Provident quae quia fugit
        eum exercitationem obcaecati, in ipsa explicabo earum quas labore excepturi vitae adipisci dolorem molestias
        repellendus aliquid accusantium optio voluptates magni unde non cupiditate. Eaque veniam velit voluptatum
        dignissimos alias voluptates inventore dolores, saepe placeat dolor beatae quas repellendus reiciendis earum
        sint expedita deserunt modi itaque minus qui possimus vel minima. Temporibus rem, consequuntur accusamus
        doloremque quos asperiores aspernatur ad adipisci magni, eum reiciendis maxime voluptas omnis porro iusto esse
        autem amet non atque sapiente, soluta repudiandae deserunt. Provident incidunt cum quos error odio, aspernatur
        ducimus voluptatem ipsum, labore qui laudantium facilis cupiditate quia. Dolor facere eum iste commodi tempora
        nisi quod aperiam quas vitae dolore laudantium iure repellat est repellendus, quibusdam rerum! Aspernatur, modi
        dolores aliquid ducimus facere hic consequatur magni similique cum sit? Placeat ipsa repudiandae recusandae
        expedita numquam corrupti repellendus ullam est. Voluptatum earum quis odit dicta velit repellendus quam,
        nostrum aliquam quisquam? Quas, nemo natus corrupti minima culpa repellendus quam, atque dignissimos non, alias
        porro eius aliquid quos tempora ab dolorum nesciunt. Optio illo porro quidem sed accusantium expedita, harum
        voluptatibus aliquid repellat ex enim recusandae ratione odit similique facere omnis doloribus nam fugiat animi
        molestiae iure nisi? Eveniet, quo. Quia delectus sequi sed neque vitae obcaecati excepturi distinctio temporibus
        quibusdam voluptate placeat laudantium eum enim dolorem consequuntur cupiditate, velit, maxime recusandae nisi
        fuga error. Ipsam magni maiores dolorem iure vitae perferendis veritatis deleniti blanditiis unde, architecto
        esse, aliquid, accusantium iste eveniet aliquam. Voluptatibus quisquam non nisi tempora nobis laudantium fuga.
        Voluptatem nemo necessitatibus, quidem animi architecto doloribus veniam a ipsam inventore corporis consectetur
        et, facere odio sapiente sequi eaque deleniti? Sint unde corrupti, consequatur suscipit, dicta dignissimos atque
        exercitationem odio fugiat deserunt veritatis cupiditate facere velit voluptates dolor laudantium architecto!
        Magnam ipsa, maxime reiciendis provident sint placeat delectus voluptas commodi? Quaerat adipisci saepe
        consectetur ea voluptatum ad ex laborum sequi nam molestiae, velit labore delectus aperiam beatae. Labore enim,
        et perspiciatis, suscipit itaque a hic cum totam ab repellendus beatae, eligendi est porro ipsa laboriosam. Nemo
        rerum dolor architecto vero omnis a ex officia, ullam, odio voluptatem tempore nesciunt quos amet culpa
        voluptatibus magnam officiis quasi? Nemo, pariatur voluptatem cupiditate fugiat corporis debitis a amet
        necessitatibus facilis. Error animi pariatur, dolorum doloremque eligendi exercitationem illo sed voluptas
        totam, accusantium iste? Corrupti perferendis unde facilis quo sapiente laboriosam quae! Doloremque omnis
        laborum hic alias, reprehenderit reiciendis, ipsa soluta sunt iure, illo cupiditate incidunt? Beatae, dolorem
        fugit itaque dolorum labore aut? Beatae, aperiam ratione nihil nesciunt eius corrupti placeat inventore quisquam
        error tenetur praesentium magni blanditiis numquam odio officia fugiat est reprehenderit ipsam vitae omnis
        explicabo eligendi necessitatibus quod aut! Tempora itaque pariatur fuga magni perferendis provident inventore
        ducimus perspiciatis ex, est consectetur omnis fugit nulla numquam deserunt fugiat voluptatibus nemo possimus
        maiores iusto quo at reiciendis nobis quam. Nobis, nostrum, quo est in obcaecati sequi voluptatum accusamus
        fugiat officia sit dicta deleniti consequatur enim! Officiis libero aspernatur laudantium error tempora delectus
        expedita? Itaque fuga, suscipit nihil corrupti accusamus libero necessitatibus qui similique neque deserunt
        expedita fugiat dolorem dicta nulla, placeat illo natus quibusdam vero excepturi dignissimos repellat. Delectus
        nesciunt sed excepturi repellat temporibus iure neque aut soluta doloribus vel, cupiditate dolores quae iste
        minus ipsum veniam consequuntur tenetur quos quia aspernatur! Voluptate voluptatum illo vero, distinctio magni
        veritatis quibusdam sint tenetur quos sed officia, fugit minus officiis temporibus non eveniet repudiandae
        aspernatur maiores eum in possimus! Blanditiis tenetur architecto, aliquid inventore fugit est quibusdam
        adipisci necessitatibus repudiandae culpa minima officiis dolores harum dolor. Consequuntur aut nobis cupiditate
        itaque ratione alias doloribus rem! Illo sint deleniti quia ipsam laborum placeat molestiae maxime iure labore
        recusandae nam dolores, voluptatibus blanditiis quae ut quas minima culpa incidunt corrupti minus unde?
        Temporibus quis, voluptate eos ducimus molestias, quidem voluptatum iure iste repellat repellendus, excepturi
        facilis error adipisci ab neque ea eius ex vel pariatur labore mollitia tempore non expedita provident.
        Architecto, deleniti temporibus nihil, facilis distinctio, nulla commodi odio ipsam voluptate ab soluta fuga.
        Accusantium commodi quisquam ea, doloribus aliquid odit quibusdam excepturi assumenda aperiam itaque, natus nam
        aspernatur fuga molestias velit optio enim atque eaque accusamus repellat quis, possimus obcaecati quidem
        pariatur. Eius dolor quisquam neque necessitatibus itaque enim tenetur voluptatem, tempore quod, culpa facere.
        Necessitatibus iure, similique possimus deleniti accusantium in expedita odit placeat optio esse.
    </div>
    <script>

        // navigator.geolocation.getCurrentPosition((position) => {
        //     console.log(position);
        //     const { latitude, longitude } = position.coords
        //     console.log('Географические координаты устройства', latitude, longitude)
        // });

        // let watchId = navigator.geolocation.watchPosition(({ coords }) => {
        //     console.log('Устройство обновило местоположение', coords.latitude,
        //         coords.longitude)
        // });

        // navigator.geolocation.clearWatch(watchId);

        // const handlePositionError = (error) => {
        //     switch (error.code) {
        //         case 1:
        //             console.log('Пользователь ограничил доступ к местоположению')
        //             break
        //         case 2:
        //             console.log('Ошибка устройства определения местоположения')
        //             break
        //         case 3:
        //             console.log('Достигнут тайм-аут')
        //             break
        //         default:
        //             console.log('Извините, местоположение недоступно', error)
        //             break
        //     }
        // }

        // const pEl = document.querySelector('p');

        // console.log(document.documentElement.scrollHeight);
        // console.log(document.documentElement.clientHeight);
        // console.log(document.documentElement.scrollTop);
        // console.log(window.pageYOffset);
        // window.scrollBy(0, 20);

        // document.addEventListener('scroll', function (e) {
        //     console.log(document.documentElement.scrollTop);
        // });

        const contentEl = document.querySelector('.content');

        document.addEventListener('scroll', function (e) {
            // Нам потребуется знать высоту документа и высоту экрана
            const height = document.documentElement.offsetHeight;
            console.log(`-----------------------------
                Высода документа ${height}`);
            const screenHeight = document.documentElement.clientHeight;
            console.log(`Высота видимой области ${screenHeight}`);

            // Они могут отличаться если на странице много контента,
            // высота документа будет больше высоты экрана (отсюда и скролл)

            // Записываем сколько пикселей пользователь уже проскролил
            const scrolled = window.scrollY;
            console.log(`Сколько уже прокрутил ${scrolled}`);

            // Обозначим порог, по приближении к которому бцдем вызывать какое то действие 
            // В нашем случае - четверть экрана до конца страницы
            const threshold = height - screenHeight / 4;

            // Отслеживаем где находится низ экрана относительно страницы
            const position = scrolled + screenHeight;
            console.log(`Где находится сейчас ${position}`);
            if (position >= threshold) {
                
                console.log('Добавить еще контент');

                const pText = document.createElement('p');

                pText.textContent = `dolores harum dolor. Consequuntur aut nobis cupiditate itaque ratione alias doloribus rem! Illo sint deleniti quia ipsam laborum placeat molestiae maxime iure labore recusandae nam dolores, voluptatibus blanditiis quae ut quas minima culpa incidunt corrupti minus unde? Temporibus quis, voluptate eos ducimus molestias, quidem voluptatum iure iste repellat repellendus, excepturi facilis error adipisci ab neque ea eius ex vel pariatur labore mollitia tempore non expedita provident. Architecto, deleniti temporibus nihil, facilis distinctio, nulla commodi odio ipsam voluptate ab soluta fuga. Accusantium commodi quisquam ea, doloribus aliquid odit quibusdam excepturi assumenda aperiam itaque, natus nam aspernatur fuga molestias velit optio enim atque eaque accusamus repellat quis, possimus obcaecati quidem pariatur. Eius dolor quisquam neque necessitatibus itaque enim tenetur voluptatem, tempore quod, culpa facere. Necessitatibus iure, similique possimus deleniti accusantium in expedita odit placeat optio esse.`;
                contentEl.appendChild(pText);
            }

        });


    </script>
</body>

</html>